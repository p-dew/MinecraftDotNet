DragonFrai's notes:
--------

Ну чтож. Начнем с классики. \
Игрок и враги двигаются. \
Вероятно, враги двигаются по-тупому. Но вот игрок и пули нет. \
Для движения нужна позиция и скорость. Для применения скорости MovementSystem. \
Для корректного расчета скорости можно использовать дельту. Что-то типа, системы учёта времени в начале кадра и ресурс GameTimings. Для ввода... Ввод можно задизайнить много как. Из основного, события и ресурс, хранящий события на кадр. \
Для рисования возьмём простой спрайт и систему его отображения. \
Для столкновения, для простоты объединим систему обработки коллизий и нанесения урона. \
Удалять будем в конце кадра все сущности с ХП <= 0. Changed фильтр опустим. \
Для звука можем использовать сервис воспроизведения звука. \
Ну и система графики, вероятно, зависит от сервиса графики. Но это не точно.

----

Systems:
- InputSystem — обновление данных ввода
- TimingsSystem — расчет dt и других данных игры. Сюда же можно отнести статистику среднего времени кадра. Особенно если разделить это на RenderTimingsSystem / LogicTimingsSystem
- PlayerControllingSystem — использование данных ввода для обновления скорости игрока и запуска пуль
- RenderSystem — рендер спрайтов и текста
- PhysicSystem — Некоторый не очень поддающийся делению монолит. Он изменяет позицию с учётом скорости и коллизий. Не даёт игроку выйти за пределы поля, а также проверяет столкновения пуль с врагами и наносит им урон.
- EnemyControllingSystem — изменение позиций противников.
- ScoreSystem — Ведёт счёт игрока, получая информацию об убийстве от системы физики в виде событий. В т.ч. обновляет табличку счета.
- LoseSystem — система проверки проигрыша и его обработки. Будем считать, что проиграл, если враг приблизился слишком близко к низу.

----

Ресурсы:
- InputState
- Timings / RenderTimings + LogicTimings
- GlWindow/GlContext/etc
- (физика не так тривиальна, пока по тупому)

Необязательно:
- Score / или же счёт игрока это компонент игрока, но нужен ресурс "нашего" игрока, как если бы это было ММО.

Отделить это от системы счет хорошо тем, что можно получать и изменять эти данные, если нужно.

----

Компоненты:
- Velocity: dx: float * dy: float
- Position: x: float * y: float
- Health: points: int
- Enemy
- Player
- Bullet: damage: int * owner: Owner
- CollideBox: ...
- Sprite: sprite: Texture
- Text: text: string

type Owner = Player | Enemy
